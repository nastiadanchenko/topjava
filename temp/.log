/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
set schema PUBLIC
set schema PUBLIC
DROP TABLE user_roles IF EXISTS
DROP TABLE meals IF EXISTS
DROP TABLE users IF EXISTS
DROP SEQUENCE global_seq IF EXISTS
CREATE SEQUENCE GLOBAL_SEQ AS INTEGER START WITH 100000
CREATE TABLE users\u000a(\u000a    id               INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000a    name             VARCHAR(255)            NOT NULL,\u000a    email            VARCHAR(255)            NOT NULL,\u000a    password         VARCHAR(255)            NOT NULL,\u000a    registered       TIMESTAMP DEFAULT now() NOT NULL,\u000a    enabled          BOOLEAN   DEFAULT TRUE  NOT NULL,\u000a    calories_per_day INTEGER   DEFAULT 2000  NOT NULL\u000a)
CREATE UNIQUE INDEX users_unique_email_idx\u000a    ON USERS (email)
CREATE TABLE user_roles\u000a(\u000a    user_id INTEGER NOT NULL,\u000a    role    VARCHAR(255),\u000a    CONSTRAINT user_roles_idx UNIQUE (user_id, role),\u000a    FOREIGN KEY (user_id) REFERENCES USERS (id) ON DELETE CASCADE\u000a)
CREATE TABLE meals\u000a(\u000a    id          INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000a    date_time   TIMESTAMP    NOT NULL,\u000a    description VARCHAR(255) NOT NULL,\u000a    calories    INT          NOT NULL,\u000a    user_id     INTEGER      NOT NULL,\u000a    FOREIGN KEY (user_id) REFERENCES USERS (id) ON DELETE CASCADE\u000a)
CREATE UNIQUE INDEX meals_unique_user_datetime_idx\u000a    ON meals (user_id, date_time)
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
